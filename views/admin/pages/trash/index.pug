extends ./../../layouts/default.pug
include ./../../mixins/form-search.pug
include ./../../mixins/pagination.pug

block main 
    h1 Danh sách sản phẩm đã xóa 

    //- Filter
    .card.bg-light.mb-3
        .card-header Tìm kiếm
        .card-body
            .row 
                //- form tìm kiếm
                .col-6
                    +form-search(productName)

    //- List products
    .card.bg-light.mb-3
        .card-header Danh sách
        .card-body
            table(class="table table-sm" checbox-multi)
                thead
                    tr
                        //- th(class="form-check") 
                        //-     input(
                        //-         type="checkbox" 
                        //-         class="form-check-input position-static ml-1"
                        //-         name="checkall"   
                        //-     )

                        th STT
                        th Hình ảnh 
                        th Tiêu đề
                        th Giá
                        th Trạng thái
                        th Hành Động
                tbody
                    //- for như js
                    -for(let i = 0; i < products.length; ++i)
                        tr
                            //- td(class="form-check")
                            //-     input(
                            //-         type="checkbox" 
                            //-         class="form-check-input position-static  ml-1"
                            //-         name="id"
                            //-         value=products[i]._id
                            //-     )
                                
                            td #{i + 1}
                            td 
                                img(src=products[i].thumbnail
                                    alt="Sản phẩm 1"
                                    width="100px"
                                    style="aspect-ratio: 4/3"
                                )
                            td #{products[i].title}
                            td #{products[i].price}$
                            //- if else như js
                            td 
                                if(products[i].status == 'active')
                                    a( 
                                        href='javascript:;'
                                        class="badge badge-success"
                                        id = products[i]._id
                                        status= products[i].status
                                    ) Hoạt động
                                else
                                    a(
                                        href='javascript:;'
                                        class="badge badge-danger"
                                        id = products[i]._id
                                        status= products[i].status
                                    ) Dừng hoạt động

                            td 
                                button(type="button" class="btn btn-info btn-sm mr-1") Khôi phục
                                button(
                                    type="button" 
                                    class="btn btn-danger btn-sm"
                                    data-id=products[i]._id 
                                    button-delete-product
                                ) Xóa vĩnh viễn

    //- Pagination
    +pagination(pagination)